{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/Loader/Loader.module.css","components/Spinner/Spinner.module.css","components/ImageGallery/ImageGallery.module.css","components/App/App.module.css","components/Spinner/Spinner.js","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Modal/Modal.js","Services/Constants.js","Services/AppiServise.js","components/Loader/Loader.js","components/Button/Button.js","components/App/App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Spinner","className","style","spinner","type","color","height","width","timeout","Searchbar","state","searchQuery","handleSearhChang","event","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","props","onSubmit","alert","text","delay","this","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","tags","webformatURL","selectedImage","src","alt","onClick","ImageGalleryItemImage","ImageGallery","images","map","id","largeImageURL","modalRoot","document","querySelector","Modal","handleKeyDown","e","code","onClose","handleBackdropClick","target","window","addEventListener","removeEventListener","selectedImg","createPortal","Overlay","API_KEY","page","a","url","axios","get","data","hits","defaults","baseURL","pixHandler","Loader","div","button","Button","scrollTo","top","documentElement","scrollHeight","behavior","App","status","handleFormSubmit","resetState","loadMoreBtnClick","prevState","handleSelectedImage","largeImageUrl","closeModal","_","prevSearch","nextSearch","prevPage","nextPage","length","error","ReactDOM","render","StrictMode","getElementById"],"mappings":"oIACAA,EAAOC,QAAU,CAAC,iBAAmB,2CAA2C,sBAAwB,kD,mBCAxGD,EAAOC,QAAU,CAAC,QAAU,uBAAuB,MAAQ,uB,mBCA3DD,EAAOC,QAAU,CAAC,IAAM,oBAAoB,OAAS,yB,mBCArDD,EAAOC,QAAU,CAAC,QAAU,2B,mBCA5BD,EAAOC,QAAU,CAAC,aAAe,qC,mBCAjCD,EAAOC,QAAU,CAAC,MAAQ,qB,uMCWXC,MARf,WACE,OACE,qBAAKC,UAAWC,IAAMC,QAAtB,SACE,cAAC,IAAD,CAAQC,KAAK,OAAOC,MAAM,UAAUC,OAAQ,IAAKC,MAAO,IAAKC,QAAS,S,wBCDvDC,E,4MACnBC,MAAQ,CACNC,YAAa,I,EAGfC,iBAAmB,SAAAC,GACjB,EAAKC,SAAS,CAAEH,YAAaE,EAAME,cAAcC,MAAMC,iB,EAGzDC,aAAe,SAAAL,GACbA,EAAMM,iBAEgC,KAAlC,EAAKT,MAAMC,YAAYS,QAQ3B,EAAKC,MAAMC,SAAS,EAAKZ,MAAMC,aAC/B,EAAKG,SAAS,CAAEH,YAAa,MAR3BY,gBAAM,CACJC,KAAM,mBACNC,MAAO,O,4CASb,WACE,OACE,wBAAQxB,UAAWC,IAAMO,UAAzB,SACE,uBAAMa,SAAUI,KAAKR,aAAcjB,UAAWC,IAAMO,UAApD,UACE,wBAAQL,KAAK,SAASH,UAAWC,IAAMyB,iBAAvC,SACE,sBAAM1B,UAAWC,IAAM0B,sBAAvB,sBAGF,uBACE3B,UAAWC,IAAM2B,gBACjBzB,KAAK,OACL0B,aAAa,MACbC,WAAS,EACTC,YAAY,2BACZhB,MAAOU,KAAKhB,MAAMC,YAClBsB,SAAUP,KAAKd,4B,GAvCYsB,a,kCCFxB,SAASC,EAAT,GAAkE,IAAtCC,EAAqC,EAArCA,KAAMC,EAA+B,EAA/BA,aAAcC,EAAiB,EAAjBA,cAC7D,OACE,oBAAIrC,UAAWC,IAAMiC,iBAArB,SACE,qBACEI,IAAKF,EACLG,IAAKJ,EACLK,QAASH,EACTrC,UAAWC,IAAMwC,0BCNV,SAASC,EAAT,GAAkD,IAA1BC,EAAyB,EAAzBA,OAAQN,EAAiB,EAAjBA,cAC7C,OACE,oBAAIrC,UAAWC,IAAMyC,aAArB,SACGC,EAAOC,KAAI,gBAAGC,EAAH,EAAGA,GAAIT,EAAP,EAAOA,aAAcD,EAArB,EAAqBA,KAAMW,EAA3B,EAA2BA,cAA3B,OACV,cAACZ,EAAD,CAEEE,aAAcA,EACdD,KAAMA,EACNE,cAAe,kBAAMA,EAAcS,EAAeX,KAH7CU,Q,qBCLTE,EAAYC,SAASC,cAAc,eAEpBC,E,4MAenBC,cAAgB,SAAAC,GACC,WAAXA,EAAEC,MACJ,EAAKjC,MAAMkC,W,EAIfC,oBAAsB,SAAAH,GAChBA,EAAEI,SAAWJ,EAAEtC,eACjB,EAAKM,MAAMkC,W,uDAhBf,WACEG,OAAOC,iBAAiB,UAAWjC,KAAK0B,iB,kCAG1C,WACEM,OAAOE,oBAAoB,UAAWlC,KAAK0B,iB,oBAe7C,WACE,MAA8B1B,KAAKL,MAA3BwC,EAAR,EAAQA,YAAazB,EAArB,EAAqBA,KAErB,OAAO0B,uBACL,qBAAK7D,UAAWC,IAAM6D,QAAStB,QAASf,KAAK8B,oBAA7C,SACE,qBAAKvD,UAAWC,IAAMiD,MAAtB,SACE,qBAAKZ,IAAKsB,EAAarB,IAAKJ,QAGhCY,O,GApC6Bd,a,iBCP7B8B,EAAU,qC,4CCKhB,WAA0BrD,EAAasD,GAAvC,mBAAAC,EAAA,6DACQC,EADR,sDAC6DxD,EAD7D,iBACiFsD,EADjF,4BACyGD,GADzG,SAEyBI,IAAMC,IAAIF,GAFnC,uBAEUG,EAFV,EAEUA,KAFV,kBAGSA,EAAKC,MAHd,4C,sBAFAH,IAAMI,SAASC,QDFE,2BCUFC,M,+DCOAC,EAdA,SAAC,GAAiB,IAAflC,EAAc,EAAdA,QAChB,OACE,qBAAKxC,UAAWC,IAAM0E,IAAtB,SACE,wBAAQxE,KAAK,SAASqC,QAASA,EAASxC,UAAWC,IAAM2E,OAAzD,0BCASC,EAPA,WACb,OAAOpB,OAAOqB,SAAS,CACrBC,IAAK/B,SAASgC,gBAAgBC,aAC9BC,SAAU,YCURC,E,4MAKJ1E,MAAQ,CACNC,YAAa,GACbsD,KAAM,EACNrB,OAAQ,GACRiB,YAAa,KACbrB,IAAK,KACL6C,OAAQ,Q,EAwCVC,iBAAmB,SAAA3E,GACb,EAAKD,MAAMC,cAAgBA,IAI/B,EAAK4E,aACL,EAAKzE,SAAS,CAAEH,kB,EAGlB6E,iBAAmB,WACjB,EAAK1E,UAAS,SAAA2E,GAAS,MAAK,CAC1BxB,KAAMwB,EAAUxB,KAAO,O,EAI3ByB,oBAAsB,SAACC,EAAevD,GACpC,EAAKtB,SAAS,CACZ+C,YAAa8B,EACbnD,IAAKJ,K,EAITwD,WAAa,WACX,EAAK9E,SAAS,CACZ+C,YAAa,Q,EAIjB0B,WAAa,WACX,EAAKzE,SAAS,CACZH,YAAa,GACbsD,KAAM,EACNrB,OAAQ,GACRiB,YAAa,KACbrB,IAAK,KACL6C,OAAQ,U,+FAxEZ,WAAyBQ,EAAGJ,GAA5B,uBAAAvB,EAAA,yDACQ4B,EAAaL,EAAU9E,YACvBoF,EAAarE,KAAKhB,MAAMC,YAExBqF,EAAWP,EAAUxB,KACrBgC,EAAWvE,KAAKhB,MAAMuD,KAExB6B,IAAeC,GAAcC,IAAaC,EAPhD,wBAQIvE,KAAKZ,SAAS,CAAEuE,OAAQ,YAR5B,kBAW2BX,EAAWqB,EAAYE,GAXlD,QAWYrD,EAXZ,QAakBsD,QACVC,gBAAM,CACJ3E,KAAM,YACNC,MAAO,MAIXC,KAAKZ,UAAS,SAAA2E,GAAS,MAAK,CAC1B7C,OAAO,GAAD,mBAAM6C,EAAU7C,QAAhB,YAA2BA,IACjCyC,OAAQ,eAtBhB,kDAyBM,KAAM,CACJ7D,KAAM,YACNC,MAAO,MAGTC,KAAKZ,SAAS,CAAEuE,OAAQ,aA9B9B,QAiCI3D,KAAKhB,MAAMuD,KAAO,GAAKa,IAjC3B,0D,6EA4EA,WACE,MAA6CpD,KAAKhB,MAA1CkC,EAAR,EAAQA,OAAQiB,EAAhB,EAAgBA,YAAarB,EAA7B,EAA6BA,IAAK6C,EAAlC,EAAkCA,OAElC,MAAe,SAAXA,EACK,cAAC,EAAD,CAAW/D,SAAUI,KAAK4D,mBAGpB,YAAXD,EAEA,qCACE,cAAC,EAAD,CAAW/D,SAAUI,KAAK4D,mBAC1B,cAAC,EAAD,IACA,cAAC3C,EAAD,CAAcC,OAAQA,EAAQN,cAAeZ,KAAKgE,sBAEjD9C,EAAOsD,OAAS,GAAK,cAAC,EAAD,CAAQzD,QAASf,KAAK8D,sBAKnC,aAAXH,EAEA,qCACE,cAAC,EAAD,CAAW/D,SAAUI,KAAK4D,mBAC1B,cAAC3C,EAAD,CAAcC,OAAQA,EAAQN,cAAeZ,KAAKgE,sBACjD7B,GAAe,cAAC,EAAD,CAAOA,YAAaA,EAAazB,KAAMI,EAAKe,QAAS7B,KAAKkE,aACzEhD,EAAOsD,OAAS,GAAK,cAAC,EAAD,CAAQzD,QAASf,KAAK8D,sBAKnC,aAAXH,EAEA,mCACE,cAAC,EAAD,CAAW/D,SAAUI,KAAK4D,0BAHhC,M,GAxHcpD,aAkIHkD,I,YCzIfgB,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFrD,SAASsD,eAAe,U,kBCT1BzG,EAAOC,QAAU,CAAC,UAAY,6BAA6B,iBAAmB,oCAAoC,gBAAkB,mCAAmC,sBAAwB,4C","file":"static/js/main.1a6e7048.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2q3-H\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__Vx5pl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__7O21C\",\"Modal\":\"Modal_Modal__1AsYW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"div\":\"Loader_div__eV-Fo\",\"button\":\"Loader_button__ICbOy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"spinner\":\"Spinner_spinner__BAqye\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__Ht617\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"App_title__3wA4z\"};","import React from 'react';\nimport Loader from 'react-loader-spinner';\nimport style from '../Spinner/Spinner.module.css';\n\nfunction Spinner() {\n  return (\n    <div className={style.spinner}>\n      <Loader type=\"Puff\" color=\"#00BFFF\" height={200} width={200} timeout={3000} />\n    </div>\n  );\n}\n\nexport default Spinner;\n","import React, { Component } from 'react';\nimport { alert } from '@pnotify/core';\nimport '@pnotify/core/dist/PNotify.css';\nimport PropTypes from 'prop-types';\nimport style from '../Searchbar/Searchbar.module.css';\n\nexport default class Searchbar extends Component {\n  state = {\n    searchQuery: '',\n  };\n\n  handleSearhChang = event => {\n    this.setState({ searchQuery: event.currentTarget.value.toLowerCase() });\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n\n    if (this.state.searchQuery.trim() === '') {\n      alert({\n        text: 'Enter the title!',\n        delay: 1000,\n      });\n\n      return;\n    }\n    this.props.onSubmit(this.state.searchQuery);\n    this.setState({ searchQuery: '' });\n  };\n\n  render() {\n    return (\n      <header className={style.Searchbar}>\n        <form onSubmit={this.handleSubmit} className={style.Searchbar}>\n          <button type=\"submit\" className={style.SearchFormButton}>\n            <span className={style.SearchFormButtonLabel}>Search</span>\n          </button>\n\n          <input\n            className={style.SearchFormInput}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            value={this.state.searchQuery}\n            onChange={this.handleSearhChang}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport style from '../ImageGalleryItem/ImageGalleryItem.module.css';\n\nexport default function ImageGalleryItem({ tags, webformatURL, selectedImage }) {\n  return (\n    <li className={style.ImageGalleryItem}>\n      <img\n        src={webformatURL}\n        alt={tags}\n        onClick={selectedImage}\n        className={style.ImageGalleryItemImage}\n      />\n    </li>\n  );\n}\n\nImageGalleryItem.propTypes = {\n  tags: PropTypes.string.isRequired,\n  webformatURL: PropTypes.string.isRequired,\n  selectedImage: PropTypes.func,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport style from '../ImageGallery/ImageGallery.module.css';\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\n\nexport default function ImageGallery({ images, selectedImage }) {\n  return (\n    <ul className={style.ImageGallery}>\n      {images.map(({ id, webformatURL, tags, largeImageURL }) => (\n        <ImageGalleryItem\n          key={id}\n          webformatURL={webformatURL}\n          tags={tags}\n          selectedImage={() => selectedImage(largeImageURL, tags)}\n        />\n      ))}\n    </ul>\n  );\n}\n\nImageGallery.propTypes = {\n  images: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n    }),\n  ),\n  selectedImg: PropTypes.func,\n};\n","import React, { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\nimport style from '../Modal/Modal.module.css';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nexport default class Modal extends Component {\n  static propTypes = {\n    selectedImg: PropTypes.string,\n    tags: PropTypes.string,\n    onClose: PropTypes.func,\n  };\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      this.props.onClose();\n    }\n  };\n\n  handleBackdropClick = e => {\n    if (e.target === e.currentTarget) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    const { selectedImg, tags } = this.props;\n\n    return createPortal(\n      <div className={style.Overlay} onClick={this.handleBackdropClick}>\n        <div className={style.Modal}>\n          <img src={selectedImg} alt={tags} />\n        </div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n","const API_KEY = '23040897-f684e552d269990a649c2a9ea';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport { API_KEY, BASE_URL };\n","import axios from 'axios';\nimport { BASE_URL, API_KEY } from '../Services/Constants';\n\naxios.defaults.baseURL = BASE_URL;\n\nasync function pixHandler(searchQuery, page) {\n  const url = `/?image_type=photo&orientation=horizontal&q=${searchQuery}&page=${page}&per_page=12&key=${API_KEY}`;\n  const { data } = await axios.get(url);\n  return data.hits;\n}\n\nexport default pixHandler;\n","import style from '../Loader/Loader.module.css';\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nconst Loader = ({ onClick }) => {\n  return (\n    <div className={style.div}>\n      <button type=\"button\" onClick={onClick} className={style.button}>\n        Load more\n      </button>\n    </div>\n  );\n};\n\nLoader.propTypes = {\n  onClick: PropTypes.func,\n};\n\nexport default Loader;\n","const Button = () => {\n  return window.scrollTo({\n    top: document.documentElement.scrollHeight,\n    behavior: 'smooth',\n  });\n};\n\nexport default Button;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { error } from '@pnotify/core/dist/PNotify.js';\nimport '@pnotify/core/dist/BrightTheme.css';\nimport 'react-toastify/dist/ReactToastify.css';\nimport Spinner from '../Spinner/Spinner';\nimport Searchbar from '../Searchbar/Searchbar';\nimport ImageGallery from '../ImageGallery/ImageGallery';\nimport Modal from '../Modal/Modal';\nimport pixHandler from '../../Services/AppiServise';\nimport Loader from '../Loader/Loader';\nimport Button from '../Button/Button';\n\nclass App extends Component {\n  static propTypes = {\n    searchQuery: PropTypes.string,\n  };\n\n  state = {\n    searchQuery: '',\n    page: 1,\n    images: [],\n    selectedImg: null,\n    alt: null,\n    status: 'idle',\n  };\n\n  async componentDidUpdate(_, prevState) {\n    const prevSearch = prevState.searchQuery;\n    const nextSearch = this.state.searchQuery;\n\n    const prevPage = prevState.page;\n    const nextPage = this.state.page;\n\n    if (prevSearch !== nextSearch || prevPage !== nextPage) {\n      this.setState({ status: 'pending' });\n\n      try {\n        const images = await pixHandler(nextSearch, nextPage);\n\n        if (!images.length) {\n          error({\n            text: 'No image!',\n            delay: 1000,\n          });\n        }\n\n        this.setState(prevState => ({\n          images: [...prevState.images, ...images],\n          status: 'resolved',\n        }));\n      } catch (error) {\n        error({\n          text: 'No image!',\n          delay: 1000,\n        });\n\n        this.setState({ status: 'rejected' });\n      }\n\n      this.state.page > 1 && Button();\n    }\n  }\n\n  handleFormSubmit = searchQuery => {\n    if (this.state.searchQuery === searchQuery) {\n      return;\n    }\n\n    this.resetState();\n    this.setState({ searchQuery });\n  };\n\n  loadMoreBtnClick = () => {\n    this.setState(prevState => ({\n      page: prevState.page + 1,\n    }));\n  };\n\n  handleSelectedImage = (largeImageUrl, tags) => {\n    this.setState({\n      selectedImg: largeImageUrl,\n      alt: tags,\n    });\n  };\n\n  closeModal = () => {\n    this.setState({\n      selectedImg: null,\n    });\n  };\n\n  resetState = () => {\n    this.setState({\n      searchQuery: '',\n      page: 1,\n      images: [],\n      selectedImg: null,\n      alt: null,\n      status: 'idle',\n    });\n  };\n\n  render() {\n    const { images, selectedImg, alt, status } = this.state;\n\n    if (status === 'idle') {\n      return <Searchbar onSubmit={this.handleFormSubmit} />;\n    }\n\n    if (status === 'pending') {\n      return (\n        <>\n          <Searchbar onSubmit={this.handleFormSubmit} />\n          <Spinner />\n          <ImageGallery images={images} selectedImage={this.handleSelectedImage} />\n\n          {images.length > 0 && <Loader onClick={this.loadMoreBtnClick} />}\n        </>\n      );\n    }\n\n    if (status === 'resolved') {\n      return (\n        <>\n          <Searchbar onSubmit={this.handleFormSubmit} />\n          <ImageGallery images={images} selectedImage={this.handleSelectedImage} />\n          {selectedImg && <Modal selectedImg={selectedImg} tags={alt} onClose={this.closeModal} />}\n          {images.length > 0 && <Loader onClick={this.loadMoreBtnClick} />}\n        </>\n      );\n    }\n\n    if (status === 'rejected') {\n      return (\n        <>\n          <Searchbar onSubmit={this.handleFormSubmit} />\n        </>\n      );\n    }\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App/App';\nimport 'modern-normalize/modern-normalize.css';\nimport './components/App/App.module.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__3hoq8\",\"SearchFormButton\":\"Searchbar_SearchFormButton__2gfk9\",\"SearchFormInput\":\"Searchbar_SearchFormInput__1lcAf\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__2XArD\"};"],"sourceRoot":""}