(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{15:function(t,e,a){t.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__2q3-H",image:"ImageGalleryItem_image__Lm_W4"}},16:function(t,e,a){t.exports={Overlay:"Modal_Overlay__7O21C",Modal:"Modal_Modal__1AsYW"}},28:function(t,e,a){t.exports={container:"Container_container__3ldC1"}},29:function(t,e,a){t.exports={Searchbar:"Searchbar_Searchbar__3hoq8"}},30:function(t,e,a){t.exports={ImageGallery:"ImageGallery_ImageGallery__Ht617"}},31:function(t,e,a){t.exports={Button:"Button_Button__2Wwp6"}},33:function(t,e,a){t.exports={spinner:"Spinner_spinner__BAqye"}},39:function(t,e,a){t.exports={App:"App_App__1VLm6"}},81:function(t,e,a){},82:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),o=a(8),c=a.n(o),i=a(17),s=a(4),u=a(5),l=a(7),d=a(6),m=a(12),h=(a(38),a(39),a(14)),p=a.n(h),b=a(26),g=a(27),j=a.n(g),f=function(){var t=Object(b.a)(p.a.mark((function t(e,a){var n,r,o,c;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new URLSearchParams({q:e,page:a,per_page:"12",image_type:"photo",orientation:"horizontal",safesearch:"true"}),r="".concat("https://pixabay.com/api/","?key=").concat("23103282-e7d496618b624ef4484ab3d5c","&").concat(n),t.next=4,j.a.get(r);case 4:return o=t.sent,c=o.data,t.abrupt("return",c);case 7:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),y=f,O=a(28),v=a.n(O),_=a(1);function S(t){var e=t.children;return Object(_.jsx)("div",{className:v.a.container,children:e})}var x=a(2),w=a.n(x),I=a(29),k=a.n(I),L=a(9),M=a.n(L),C=function(t){Object(l.a)(a,t);var e=Object(d.a)(a);function a(){var t;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).state={query:""},t.handleQueryChange=function(e){t.setState({query:e.currentTarget.value.toLowerCase()})},t.handleSubmit=function(e){var a=t.state.query;e.preventDefault(),""!==a.trim()?(t.setState({query:""}),t.props.onSubmit(a)):m.b.error("Sorry,input field is empty")},t}return Object(u.a)(a,[{key:"render",value:function(){var t=this.state.query,e=this.handleQueryChange,a=this.handleSubmit;return Object(_.jsxs)("form",{onSubmit:a,className:M.a.SearchForm,children:[Object(_.jsx)("button",{type:"submit",className:M.a.button,children:Object(_.jsx)("span",{className:M.a.buttonLabel,children:"Search"})}),Object(_.jsx)("input",{className:M.a.input,value:t,onChange:e,type:"text",placeholder:"Search images and photos"})]})}}]),a}(n.Component);function q(t){var e=t.onSubmit;return Object(_.jsx)("header",{className:k.a.Searchbar,children:Object(_.jsx)(C,{onSubmit:e})})}C.propTypes={onSubmit:w.a.func};var N=a(15),F=a.n(N),G=function(t){Object(l.a)(a,t);var e=Object(d.a)(a);function a(){return Object(s.a)(this,a),e.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var t=this.props,e=t.webformatURL,a=t.tags,n=t.toggleModal,r=t.bigImage;return Object(_.jsx)("li",{className:F.a.ImageGalleryItem,children:Object(_.jsx)("img",{src:e,alt:a,className:F.a.image,onClick:function(){n(),r()}})})}}]),a}(n.Component),U=a(30),A=a.n(U);function R(t){var e=t.data,a=t.toggleModal,n=t.bigImage;return Object(_.jsx)("ul",{className:A.a.ImageGallery,children:e.map((function(t){return Object(_.jsx)(G,{id:t.id,webformatURL:t.webformatURL,largeImageURL:t.largeImageURL,tags:t.tags,toggleModal:function(){return a()},bigImage:function(){return n(t.id,t.largeImageURL,t.tags)}},t.id)}))})}var B=a(31),D=a.n(B),W=function(t){Object(l.a)(a,t);var e=Object(d.a)(a);function a(){return Object(s.a)(this,a),e.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var t=this.props.onClick;return Object(_.jsx)("button",{className:D.a.Button,type:"button",onClick:t,children:"Load more"})}}]),a}(n.Component),E=a(16),T=a.n(E),H=document.querySelector("#modal-root"),K=function(t){Object(l.a)(a,t);var e=Object(d.a)(a);function a(){var t;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).handleKeyDown=function(e){"Escape"===e.code&&t.props.closeModal()},t.backdropClick=function(e){e.target===e.currentTarget&&t.props.closeModal()},t}return Object(u.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){var t=this.props.modalImage,e=this.backdropClick;return Object(o.createPortal)(Object(_.jsx)("div",{className:T.a.Overlay,onClick:e,children:Object(_.jsx)("div",{className:T.a.Modal,children:Object(_.jsx)("img",{src:t.img,alt:t.tags},t.id)})}),H)}}]),a}(n.Component),P=a(32),J=a.n(P),Q=(a(80),a(33)),V=a.n(Q),z=function(t){Object(l.a)(a,t);var e=Object(d.a)(a);function a(){return Object(s.a)(this,a),e.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return Object(_.jsx)(J.a,{className:V.a.spinner,type:"MutatingDots",color:"#ca0e82",height:100,width:100})}}]),a}(n.Component),Y=function(t){Object(l.a)(a,t);var e=Object(d.a)(a);function a(){var t;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).state={status:"idle",query:"",page:1,data:[],loading:!1,showModal:!1,modalLargeImage:""},t.scrollOnLoadButton=function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})},t.handleFormSubmit=function(e){t.setState({query:e,page:1})},t.buttonLoadMore=function(){var e=t.state.page;t.setState({page:e+1,status:"pending"})},t.toggleModal=function(){t.setState((function(t){return{showModal:!t.showModal}}))},t.modalImage=function(e,a,n){t.setState({modalLargeImage:{id:e,img:a,tags:n}})},t}return Object(u.a)(a,[{key:"componentDidUpdate",value:function(t,e){var a=this,n=this.state,r=n.query,o=n.page;e.query!==r&&(this.setState({status:"pending"}),y(r,o).then((function(t){return t.hits})).then((function(t){return a.setState({data:t,status:"resolved"})})).catch((function(t){return a.setState({data:t,status:"error"})}))),e.page!==o&&1!==o&&(this.setState({status:"pending"}),y(r,o).then((function(t){return t.hits})).then((function(t){a.setState((function(e){return{data:[].concat(Object(i.a)(e.data),Object(i.a)(t)),status:"resolved"}})),1!==o&&a.scrollOnLoadButton()})).catch((function(t){return a.setState({data:t,status:"error"})})))}},{key:"render",value:function(){var t=this.handleFormSubmit,e=this.toggleModal,a=this.modalImage,n=this.buttonLoadMore,r=this.state,o=r.data,c=r.status,i=r.showModal,s=r.modalLargeImage;return Object(_.jsxs)(S,{children:[Object(_.jsx)(q,{onSubmit:t}),Object(_.jsx)(R,{data:o,toggleModal:e,bigImage:a}),"pending"===c&&Object(_.jsx)(z,{}),o.length>0&&Object(_.jsx)(W,{onClick:n}),i&&Object(_.jsx)(K,{closeModal:e,modalImage:s}),Object(_.jsx)(m.a,{autoClose:2e3})]})}}]),a}(n.Component);a(81);c.a.render(Object(_.jsx)(r.a.StrictMode,{children:Object(_.jsx)(Y,{})}),document.querySelector("#root"))},9:function(t,e,a){t.exports={SearchForm:"SearchForm_SearchForm__1Wpmg",button:"SearchForm_button___x0Rl",buttonLabel:"SearchForm_buttonLabel__2VcvP",input:"SearchForm_input__3ttZN"}}},[[82,1,2]]]);
//# sourceMappingURL=main.3e9946ef.chunk.js.map